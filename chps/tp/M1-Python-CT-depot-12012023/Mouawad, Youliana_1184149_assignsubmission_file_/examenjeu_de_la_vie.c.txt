#include<stdio.h>
#include<stdlib.h>

double **creer_mat(int n, str mort, str vivant){
  double **a;
  int i;
  assert mort == 0;
  assert vivant == 1;

  a = (double**)malloc(n*sizeof(double));
  for (i=0 ;i<n :i++){
    a[i] = (double**)malloc(n*sizeofdouble*)
  }
  for(i = 0; i<n ; i++){
    for(j = 0; j<n ; j++){
        a[i][j] = random(0,1)
    }
  }
}

int *voisins_vivants(int a){
    double **t;
    int n;
    t = **creer_mat(n,0, 1)
    for(i = 0; i<n ; i++){
        for(j = 0; j<n ; j++){
            a = t[i][j];
            v = 0;
            if t[i-1][j-1] == 1{
                v+=1};
            if t[i-1][j] == 1{
                v+=1};
            if t[i-1][j+1] == 1{
                v+=1};
            if t[i][j-1] == 1{
                v+=1};
            if t[i][j+1] == 1{
                v+=1};
            if t[i+1][j-1] == 1{
                v+=1};
            if t[i+1][j] == 1{
                v+=1};
            if t[i+1][j+1] == 1{
                v+=1};
        }
    }
    return v
}

double **etat_grille(double **G , int n){
    G = initial(n, 0, 1)
    for(i = 0; i<n ; i++){
        for(j = 0; j<n ; j++){
            if G[i][j] == 0 &&  voisins_vivants(G[i][j]) == 3{
                G[i][j] = 1};
            elif voisins_vivants(G[i][j]) <  2{
                G[i][j] = 0};
            elif voisins_vivants(G[i][j]) == 2 or voisins_vivants(G[i][j]) == 3{
                G[i][j] = 1};
            elif voisins_vivants(G[i][j]) > 3{
                G[i][j] = 0};
        }
    }

    return G
}