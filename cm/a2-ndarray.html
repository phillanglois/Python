
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>3. Les ‘ndarray’ : de vrais tableaux en python &#8212; Algo-Prog 2023</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Exceptions" href="a3-exceptions.html" />
    <link rel="prev" title="2. Annexe : les booléens en python (&gt;3.6)" href="a1-booleens.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo2023.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Algo-Prog 2023</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../bonjour.html">
                    Bienvenu en Algo-Prog !
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Présentation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="0-presentation-2023.html">
   1. Algorithmique et Programmation en 2022
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="competences.html">
   2. Compétences
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Les bases
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="1-fonctions.html">
   1. Fonctions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="3-ES-fichiers.html">
   2. Entrées-sorties simples avec des fichiers
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Algorithmique
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="4-complexite.html">
   1. Complexités
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="6-recursivite.html">
   2. Récursivité
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Programmation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="5-types_composes.html">
   1. Les types composés
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="7-fonctions-avancees.html">
   2. Sous-programme et affectation – aspects avancés
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="9-ES-avancees.html">
   3. Les entrées-sorties (E/S) : aspects avancés
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11-modules-utiles.html">
   4. Modules utiles
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Annexes
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="a0-boucles-avancees.html">
   1. Boucles, tableaux et fonctions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="a1-booleens.html">
   2. Annexe : les booléens en python (&gt;3.6)
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   3. Les ‘ndarray’ : de vrais tableaux en python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="a3-exceptions.html">
   4. Exceptions
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  TD
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../td/prealable-td.html">
   1. Préalables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../td/td1.html">
   2. Feuille 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../td/td2.html">
   3. Feuille 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../td/td3.html">
   4. Feuille 3
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../td/td4.html">
   5. Feuille 4
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../td/td5.html">
   6. Feuille 5
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/phillanglois/Algo-Prog-2023/main?urlpath=tree/algoprog2023/cm/a2-ndarray.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/phillanglois/Algo-Prog-2023/issues/new?title=Issue%20on%20page%20%2Fcm/a2-ndarray.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>

</a>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/cm/a2-ndarray.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#les-tableaux">
   3.1. Les tableaux
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#la-vision-classique">
     3.1.1. La vision classique
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#en-python">
     3.1.2. En python
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#les-ndarray-de-numpy">
   3.2. Les
   <code class="docutils literal notranslate">
    <span class="pre">
     ndarray
    </span>
   </code>
   de
   <code class="docutils literal notranslate">
    <span class="pre">
     numpy
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#preliminaire-necessaire-a-l-utilisation-de-numpy">
     3.2.1. Préliminaire nécessaire à l’utilisation de
     <code class="docutils literal notranslate">
      <span class="pre">
       numpy
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#creer-un-ndarray-fonctions-de-creation">
     3.2.2. Créer un
     <code class="docutils literal notranslate">
      <span class="pre">
       ndarray
      </span>
     </code>
     : fonctions de création
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#choisir-le-type-des-valeurs-a-la-creation">
     3.2.3. Choisir le type des valeurs à la création
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#acceder-aux-elements-d-un-ndarray">
     3.2.4. Accéder aux éléments d’un
     <code class="docutils literal notranslate">
      <span class="pre">
       ndarray
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#afficher-un-ndarray-fonction-d-affichage">
     3.2.5. Afficher un
     <code class="docutils literal notranslate">
      <span class="pre">
       ndarray
      </span>
     </code>
     : fonction d’affichage
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#methodes-d-introspection">
     3.2.6. Méthodes d’introspection
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fonctions-element-par-element-vs-tableau">
     3.2.7. Fonctions : élément-par-élément vs. tableau
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#definir-des-ndarray-a-partir-de-listes-python-list">
     3.2.8. Définir des
     <code class="docutils literal notranslate">
      <span class="pre">
       ndarray
      </span>
     </code>
     à partir de listes python (
     <code class="docutils literal notranslate">
      <span class="pre">
       list
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aspects-plus-avances-star">
   3.3. Aspects plus avancés    (
   <span class="math notranslate nohighlight">
    \(\star\)
   </span>
   )
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#autres-constructeurs-et-autres-descripteurs">
     3.3.1. Autres constructeurs et autres descripteurs
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#autres-fonctions-et-methodes-utiles">
     3.3.2. Autres fonctions et méthodes utiles
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#synthese">
   3.4. Synthèse
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Les ‘ndarray’ : de vrais tableaux en python</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#les-tableaux">
   3.1. Les tableaux
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#la-vision-classique">
     3.1.1. La vision classique
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#en-python">
     3.1.2. En python
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#les-ndarray-de-numpy">
   3.2. Les
   <code class="docutils literal notranslate">
    <span class="pre">
     ndarray
    </span>
   </code>
   de
   <code class="docutils literal notranslate">
    <span class="pre">
     numpy
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#preliminaire-necessaire-a-l-utilisation-de-numpy">
     3.2.1. Préliminaire nécessaire à l’utilisation de
     <code class="docutils literal notranslate">
      <span class="pre">
       numpy
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#creer-un-ndarray-fonctions-de-creation">
     3.2.2. Créer un
     <code class="docutils literal notranslate">
      <span class="pre">
       ndarray
      </span>
     </code>
     : fonctions de création
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#choisir-le-type-des-valeurs-a-la-creation">
     3.2.3. Choisir le type des valeurs à la création
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#acceder-aux-elements-d-un-ndarray">
     3.2.4. Accéder aux éléments d’un
     <code class="docutils literal notranslate">
      <span class="pre">
       ndarray
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#afficher-un-ndarray-fonction-d-affichage">
     3.2.5. Afficher un
     <code class="docutils literal notranslate">
      <span class="pre">
       ndarray
      </span>
     </code>
     : fonction d’affichage
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#methodes-d-introspection">
     3.2.6. Méthodes d’introspection
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fonctions-element-par-element-vs-tableau">
     3.2.7. Fonctions : élément-par-élément vs. tableau
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#definir-des-ndarray-a-partir-de-listes-python-list">
     3.2.8. Définir des
     <code class="docutils literal notranslate">
      <span class="pre">
       ndarray
      </span>
     </code>
     à partir de listes python (
     <code class="docutils literal notranslate">
      <span class="pre">
       list
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aspects-plus-avances-star">
   3.3. Aspects plus avancés    (
   <span class="math notranslate nohighlight">
    \(\star\)
   </span>
   )
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#autres-constructeurs-et-autres-descripteurs">
     3.3.1. Autres constructeurs et autres descripteurs
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#autres-fonctions-et-methodes-utiles">
     3.3.2. Autres fonctions et méthodes utiles
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#synthese">
   3.4. Synthèse
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="les-ndarray-de-vrais-tableaux-en-python">
<span id="ann-ndarray"></span><h1><span class="section-number">3. </span>Les ‘ndarray’ : de vrais tableaux en python<a class="headerlink" href="#les-ndarray-de-vrais-tableaux-en-python" title="Permalink to this headline">#</a></h1>
<p>version 2022, PhL.</p>
<p>Chapitre où sont présentés les vrais tableaux en python : les <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> (tableaux) <code class="docutils literal notranslate"><span class="pre">numpy</span></code>.</p>
<p>Les sections avec une <span class="math notranslate nohighlight">\(\star\)</span> sont de niveau <em>Objectif 20</em>.</p>
<section id="les-tableaux">
<h2><span class="section-number">3.1. </span>Les tableaux<a class="headerlink" href="#les-tableaux" title="Permalink to this headline">#</a></h2>
<p>Les <em>types scalaires</em> permettent de manipuler des valeurs scalaires comme les :</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">complex</span></code></p></li>
<li><p>les caractères souvent dénotés de type <em>char</em> (absent en python).</p></li>
</ul>
<p>Un <em>type composé</em> permet de regrouper plusieurs valeurs, de même type scalaire ou non, dans une seule variable (ou un seul objet).<br />
Il y a plusieurs <em>familles</em> de types composés.
Les tableaux sont l’une d’entre elles.</p>
<section id="la-vision-classique">
<h3><span class="section-number">3.1.1. </span>La vision classique<a class="headerlink" href="#la-vision-classique" title="Permalink to this headline">#</a></h3>
<p><strong>Les tableaux</strong>  sont définis comme des ensembles :</p>
<ul class="simple">
<li><p>de valeurs <em>de même type</em></p></li>
<li><p>en nombre connu et fixé “une fois pour toute” lors de leur définition</p></li>
<li><p>et dont les valeurs sont <em>stockées de façon contigüe en mémoire</em>.</p></li>
</ul>
<p>Le nombre de valeurs stockées dans un tableau est la <em>taille</em> ou la <em>dimension</em> de ce tableau.</p>
<ul class="simple">
<li><p>Un tableau peut être 1D (linéaire) ou multidimensionnel : 2D (matrice), 3D, …</p></li>
<li><p>Les valeurs du tableau sont repérées par un ou des <em>indices</em> , entiers et consécutifs.</p></li>
<li><p>Il y a autant d’indices que de dimensions du tableau :</p>
<ul>
<li><p>1D = 1 indice <code class="docutils literal notranslate"><span class="pre">i</span></code> : le numéro <code class="docutils literal notranslate"><span class="pre">i</span></code> de la case qui contient la valeur</p></li>
<li><p>2D = 2 indices <code class="docutils literal notranslate"><span class="pre">i</span></code> et <code class="docutils literal notranslate"><span class="pre">j</span></code> : les numéros de <em>ligne</em> et de <em>colonne</em> de la case qui contient la valeur</p></li>
<li><p>et ainsi de suite …</p></li>
</ul>
</li>
</ul>
</section>
<section id="en-python">
<h3><span class="section-number">3.1.2. </span>En python<a class="headerlink" href="#en-python" title="Permalink to this headline">#</a></h3>
<p>Jusque-là, les tableaux ont été représentés par des listes python.
Au <a class="reference internal" href="5-types_composes.html#ch-typescomposes"><span class="std std-ref">chapitre “Types composés”</span></a>, on a vu qu’une liste python est très différente de la définition – la vision classique – des tableaux.</p>
<p>Voilà pourquoi nous allons étudier les <code class="docutils literal notranslate"><span class="pre">ndarray</span></code>, qui définissent un type composé fourni par le module <code class="docutils literal notranslate"><span class="pre">numpy</span></code> et qui correspondent aux tableaux classiques.</p>
</section>
</section>
<section id="les-ndarray-de-numpy">
<h2><span class="section-number">3.2. </span>Les <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> de <code class="docutils literal notranslate"><span class="pre">numpy</span></code><a class="headerlink" href="#les-ndarray-de-numpy" title="Permalink to this headline">#</a></h2>
<p>Les <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> de <code class="docutils literal notranslate"><span class="pre">numpy</span></code> sont ainsi appelés car :</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array</span></code> : tableau in english,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nd</span></code> : <span class="math notranslate nohighlight">\(n\)</span>-dimension.</p></li>
</ul>
<p><strong>ATTENTION</strong> : il existe des <code class="docutils literal notranslate"><span class="pre">array</span></code> dans la bibliothèque standard de python.</p>
<section id="preliminaire-necessaire-a-l-utilisation-de-numpy">
<h3><span class="section-number">3.2.1. </span>Préliminaire nécessaire à l’utilisation de <code class="docutils literal notranslate"><span class="pre">numpy</span></code><a class="headerlink" href="#preliminaire-necessaire-a-l-utilisation-de-numpy" title="Permalink to this headline">#</a></h3>
<p>Ce qui suit concerne les <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> du module <code class="docutils literal notranslate"><span class="pre">numpy</span></code> utilisables après un <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">numpy</span></code> ou le classique :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="creer-un-ndarray-fonctions-de-creation">
<h3><span class="section-number">3.2.2. </span>Créer un <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> : fonctions de création<a class="headerlink" href="#creer-un-ndarray-fonctions-de-creation" title="Permalink to this headline">#</a></h3>
<p>La création d’un <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> est un peu pénible au début.
Il faut utiliser un des <em>constructeurs</em> définis dans le tableau ci-dessous.
Le choix d’un constructeur dépend de la connaissance ou non des valeurs du <code class="docutils literal notranslate"><span class="pre">ndarray</span></code>. Bien sûr, le nombre d’éléments de <code class="docutils literal notranslate"><span class="pre">ndarray</span></code>, ou de façon équivalente le produit de ses dimensions, doit être connu avant la création du <code class="docutils literal notranslate"><span class="pre">ndarray</span></code>.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>identifiant</p></th>
<th class="head"><p>Argument</p></th>
<th class="head"><p>Famille</p></th>
<th class="head"><p>Rôle</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">zeros()</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tuple</span></code> d’<code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p><strong>constructeur</strong></p></td>
<td><p>créé un tableau rempli de <em>zéros</em> et de dimension et de tailles définies comme argument</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ones()</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tuple</span></code> d’<code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>constructeur</p></td>
<td><p>créé un tableau rempli de <em>1</em> et de dimension et de tailles définies comme argument</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">arange()</span></code></p></td>
<td><p>range d’<code class="docutils literal notranslate"><span class="pre">int</span></code> ou de <code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p>constructeur</p></td>
<td><p>créé un tableau 1D rempli des valeurs du <em>range</em> défini comme argument</p></td>
</tr>
</tbody>
</table>
<p>On verra aussi un peu plus loin un autre constructeur qui permet de définir un <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> à partir de la liste python <code class="docutils literal notranslate"><span class="pre">lst</span></code> de ses valeurs.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Créations de ndarray :&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t1 =&quot;</span><span class="p">,</span> <span class="n">t1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t2 =&quot;</span><span class="p">,</span> <span class="n">t2</span><span class="p">)</span>

<span class="n">t34</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t2D de 3 lignes et 4 colonnes : </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">t34</span><span class="p">)</span>

<span class="n">t23</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t23</span><span class="p">)</span>

<span class="c1">#help(np.arange)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Créations de ndarray :
[0. 0. 0.]
t1 = [1. 1. 1. 1. 1.]
t2 = [0 1 2 3 4 5 6 7 8 9]
t2D de 3 lignes et 4 colonnes : 
 [[1. 1. 1. 1.]
 [1. 1. 1. 1.]
 [1. 1. 1. 1.]]
[0 1 2 3 4 5 6 7 8 9]
</pre></div>
</div>
</div>
</div>
</section>
<section id="choisir-le-type-des-valeurs-a-la-creation">
<h3><span class="section-number">3.2.3. </span>Choisir le type des valeurs à la création<a class="headerlink" href="#choisir-le-type-des-valeurs-a-la-creation" title="Permalink to this headline">#</a></h3>
<p>Le paramètre <code class="docutils literal notranslate"><span class="pre">dtype</span></code> (<em>data-type</em>) permet de définir type des valeurs du <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> lors de sa création.</p>
<p><code class="docutils literal notranslate"><span class="pre">dtype</span></code> :</p>
<ul class="simple">
<li><p>est utilisé comme paramètre nommé de certaines fonctions pour définir le type numérique des valeurs</p></li>
<li><p>les valeurs de <code class="docutils literal notranslate"><span class="pre">dtype</span></code> dépendent de l’environnement; les plus classiques sont :</p>
<ul>
<li><p>ceux de python : <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">complex</span></code></p></li>
<li><p>et <code class="docutils literal notranslate"><span class="pre">numpy</span></code> en propose d’autres : <code class="docutils literal notranslate"><span class="pre">uint8</span></code>, <code class="docutils literal notranslate"><span class="pre">int16</span></code>, <code class="docutils literal notranslate"><span class="pre">int32</span></code>, <code class="docutils literal notranslate"><span class="pre">int64</span></code>, <code class="docutils literal notranslate"><span class="pre">float32</span></code>, <code class="docutils literal notranslate"><span class="pre">float64</span></code>, …</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">int</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">float</span><span class="p">)</span>
<span class="n">t11</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">complex</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Création de ndarray :&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t0 = &quot;</span><span class="p">,</span> <span class="n">t0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t1 =&quot;</span><span class="p">,</span> <span class="n">t1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t11 =&quot;</span><span class="p">,</span> <span class="n">t11</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t2 =&quot;</span><span class="p">,</span> <span class="n">t2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Création de ndarray :
t0 =  [0 0 0]
t1 = [1. 1. 1. 1. 1.]
t11 = [1. 1. 1. 1. 1.]
t2 = [0.+0.j 1.+0.j 2.+0.j 3.+0.j 4.+0.j 5.+0.j 6.+0.j 7.+0.j 8.+0.j 9.+0.j]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">help</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on built-in function zeros in module numpy:

zeros(...)
    zeros(shape, dtype=float, order=&#39;C&#39;, *, like=None)
    
    Return a new array of given shape and type, filled with zeros.
    
    Parameters
    ----------
    shape : int or tuple of ints
        Shape of the new array, e.g., ``(2, 3)`` or ``2``.
    dtype : data-type, optional
        The desired data-type for the array, e.g., `numpy.int8`.  Default is
        `numpy.float64`.
    order : {&#39;C&#39;, &#39;F&#39;}, optional, default: &#39;C&#39;
        Whether to store multi-dimensional data in row-major
        (C-style) or column-major (Fortran-style) order in
        memory.
    like : array_like, optional
        Reference object to allow the creation of arrays which are not
        NumPy arrays. If an array-like passed in as ``like`` supports
        the ``__array_function__`` protocol, the result will be defined
        by it. In this case, it ensures the creation of an array object
        compatible with that passed in via this argument.
    
        .. versionadded:: 1.20.0
    
    Returns
    -------
    out : ndarray
        Array of zeros with the given shape, dtype, and order.
    
    See Also
    --------
    zeros_like : Return an array of zeros with shape and type of input.
    empty : Return a new uninitialized array.
    ones : Return a new array setting values to one.
    full : Return a new array of given shape filled with value.
    
    Examples
    --------
    &gt;&gt;&gt; np.zeros(5)
    array([ 0.,  0.,  0.,  0.,  0.])
    
    &gt;&gt;&gt; np.zeros((5,), dtype=int)
    array([0, 0, 0, 0, 0])
    
    &gt;&gt;&gt; np.zeros((2, 1))
    array([[ 0.],
           [ 0.]])
    
    &gt;&gt;&gt; s = (2,2)
    &gt;&gt;&gt; np.zeros(s)
    array([[ 0.,  0.],
           [ 0.,  0.]])
    
    &gt;&gt;&gt; np.zeros((2,), dtype=[(&#39;x&#39;, &#39;i4&#39;), (&#39;y&#39;, &#39;i4&#39;)]) # custom dtype
    array([(0, 0), (0, 0)],
          dtype=[(&#39;x&#39;, &#39;&lt;i4&#39;), (&#39;y&#39;, &#39;&lt;i4&#39;)])
</pre></div>
</div>
</div>
</div>
</section>
<section id="acceder-aux-elements-d-un-ndarray">
<h3><span class="section-number">3.2.4. </span>Accéder aux éléments d’un <code class="docutils literal notranslate"><span class="pre">ndarray</span></code><a class="headerlink" href="#acceder-aux-elements-d-un-ndarray" title="Permalink to this headline">#</a></h3>
<p>On manipule les élements, les tranches de tableau avec la même syntaxe que les <code class="docutils literal notranslate"><span class="pre">str</span></code> ou les <code class="docutils literal notranslate"><span class="pre">lst</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t[5]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tab[0:3,</span> <span class="pre">:]</span></code></p></li>
<li><p>…</p></li>
</ul>
<div class="alert alert-block alert-info">
<p><strong>Indices de tableaux multi-dimentionnels :</strong> les deux écritures suivantes sont possibles.</p>
<ul class="simple">
<li><p>dans <code class="docutils literal notranslate"><span class="pre">t</span></code> un tableau 2D (matrice), l’élément à la ligne i et à la colonne j s’écrit : <code class="docutils literal notranslate"><span class="pre">t[i,</span> <span class="pre">j]</span></code> <em>ou</em> <code class="docutils literal notranslate"><span class="pre">t[i][j]</span></code></p></li>
</ul>
<p>On pourra préférer <code class="docutils literal notranslate"><span class="pre">t[i,</span> <span class="pre">j]</span></code> qui permet de bien distinguer les <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> des listes (de listes).</p>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">t34</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">t34</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
</section>
<section id="afficher-un-ndarray-fonction-d-affichage">
<h3><span class="section-number">3.2.5. </span>Afficher un <code class="docutils literal notranslate"><span class="pre">ndarray</span></code>: fonction d’affichage<a class="headerlink" href="#afficher-un-ndarray-fonction-d-affichage" title="Permalink to this headline">#</a></h3>
<p>On aura remarqué que la fonction <code class="docutils literal notranslate"><span class="pre">print()</span></code> accepte et traite correctement un argument de type <code class="docutils literal notranslate"><span class="pre">ndarray</span></code>.<br />
Et même sans avoir à préciser :</p>
<ul class="simple">
<li><p>les dimensions et les tailles de l’argument</p></li>
<li><p>le type de ces valeurs.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">numpy</span></code> propose ainsi une fonction d’affichage d’une utilisation identique au <code class="docutils literal notranslate"><span class="pre">print()</span></code>de python.<br />
Comprendre qu’il y a en fait plusieurs fonctions <code class="docutils literal notranslate"><span class="pre">print()</span></code> mais qu’elles partagent le même nom.</p>
<p><strong>Quizz</strong></p>
<ul class="simple">
<li><p>Quelle est la limitation d’une telle fonction <code class="docutils literal notranslate"><span class="pre">print()</span></code>?</p></li>
</ul>
</section>
<section id="methodes-d-introspection">
<h3><span class="section-number">3.2.6. </span>Méthodes d’introspection<a class="headerlink" href="#methodes-d-introspection" title="Permalink to this headline">#</a></h3>
<p>Les méthodes d’introspection sont des fonctions qui retournent des caractéristiques des variables (objets) auxquelles elles s’appliquent.<br />
Ce sont des <em>méthodes de description</em>.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>identifiant</p></th>
<th class="head"><p>Argument</p></th>
<th class="head"><p>Famille</p></th>
<th class="head"><p>Rôle</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">.ndim</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array</span></code></p></td>
<td><p><strong>descripteur</strong></p></td>
<td><p>retourne le nombre de dimensions du tableau argument</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">.shape</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array</span></code></p></td>
<td><p>descripteur</p></td>
<td><p>retourne, sous la forme d’un t-uple, les dimensions du tableau argument</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">.size</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array</span></code></p></td>
<td><p>descripteur</p></td>
<td><p>retourne le nombre d’éléments du tableau argument</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">.dtype</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array</span></code></p></td>
<td><p>descripteur</p></td>
<td><p>retourne le type des éléments du tableau argument</p></td>
</tr>
</tbody>
</table>
<div class="alert alert-block alert-info">
<p>La <strong>notation pointée</strong> agit comme les parenthèses d’une fonction : elle permet de nommer la variable (l’objet) à laquelle l’introspection s’applique.</p>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Plus de détails : tableau 1D&quot;</span><span class="p">)</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">3</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">t0</span><span class="p">))</span> <span class="c1"># type() est une fonction python</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Plus de détails sur le tableau 1D avec des méthodes : &quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t.dim avec t un nd-array:&quot;</span><span class="p">,</span> <span class="n">t0</span><span class="o">.</span><span class="n">ndim</span><span class="p">,</span> <span class="n">t1</span><span class="o">.</span><span class="n">ndim</span><span class="p">,</span> <span class="n">t2</span><span class="o">.</span><span class="n">ndim</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t.shape avec t un nd-array:&quot;</span><span class="p">,</span> <span class="n">t0</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">t1</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">t2</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t.size avec t un nd-array:&quot;</span><span class="p">,</span> <span class="n">t0</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">t2</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">t2</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Et des détails sur les valeurs du tableau 1D :&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t0</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t0</span><span class="o">.</span><span class="n">itemsize</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Plus de détails : tableau 1D
&lt;class &#39;int&#39;&gt;
&lt;class &#39;numpy.ndarray&#39;&gt;

Plus de détails sur le tableau 1D avec des méthodes : 
t.dim avec t un nd-array: 1 1 1
t.shape avec t un nd-array: (3,) (5,) (10,)
t.size avec t un nd-array: 3 10 10

Et des détails sur les valeurs du tableau 1D :
int64
8
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Plus de détails avec tableau 2D :&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">t34</span><span class="p">))</span> 

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t.dim:&quot;</span><span class="p">,</span> <span class="n">t34</span><span class="o">.</span><span class="n">ndim</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t.shape:&quot;</span><span class="p">,</span> <span class="n">t34</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t.size:&quot;</span><span class="p">,</span> <span class="n">t34</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Et des détails sur les valeurs du tableau : dtype, itemsize&quot;</span><span class="p">,</span> <span class="n">t34</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">t34</span><span class="o">.</span><span class="n">itemsize</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Plus de détails avec tableau 2D :
&lt;class &#39;numpy.ndarray&#39;&gt;
t.dim: 2
t.shape: (3, 4)
t.size: 12
Et des détails sur les valeurs du tableau : dtype, itemsize float64 8
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">t1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;np.ones((2,3)):&quot;</span><span class="p">,</span> <span class="n">t1</span><span class="o">.</span><span class="n">ndim</span><span class="p">,</span> <span class="n">t1</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">t1</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1. 1. 1. 1. 1. 1. 1. 1. 1. 1. 1. 1. 1. 1. 1. 1. 1.] [[1. 1. 1.]
 [1. 1. 1.]]
np.ones((2,3)): 2 (2, 3) 6
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t2=&quot;</span><span class="p">,</span><span class="n">t2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;size :&quot;</span><span class="p">,</span> <span class="n">t2</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="n">t2f</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">6.0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t2f=&quot;</span><span class="p">,</span><span class="n">t2f</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;size :&quot;</span><span class="p">,</span> <span class="n">t2f</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>t2= [ 2.   2.5  3.   3.5  4.   4.5  5.   5.5  6.   6.5  7.   7.5  8.   8.5
  9.   9.5 10.  10.5]
size : 18

t2f= [0. 1. 2. 3. 4. 5.]
size : 6
</pre></div>
</div>
</div>
</div>
</section>
<section id="fonctions-element-par-element-vs-tableau">
<h3><span class="section-number">3.2.7. </span>Fonctions : élément-par-élément vs. tableau<a class="headerlink" href="#fonctions-element-par-element-vs-tableau" title="Permalink to this headline">#</a></h3>
<p>Les <code class="docutils literal notranslate"><span class="pre">ndarray</span></code>bénéficient d’opérations vectorielles et matricielles ainsi que des traitements d’algèbre linéaire :</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dot()</span></code>: produit scalaire (aussi <code class="docutils literal notranslate"><span class="pre">vdot</span></code>),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dot()</span></code> ou <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> : produit matriciel,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">transpose()</span></code>ou méthode <code class="docutils literal notranslate"><span class="pre">.T</span></code> : transposition</p></li>
</ul>
<p><strong>ATTENTION</strong>  Les autres fonctions travaillent <strong>élément-par-élement</strong> (<em>element-wise</em>) en utilisant la <em>surcharge</em> des opérateurs.</p>
<p>Ainsi ces fonctions retournent des <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> de forme induite par celles des opérandes.</p>
<ul class="simple">
<li><p>opérateurs arithmétiques (surchargés et s’appliquant element-wise)  : <code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code>, <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">/</span></code>,  <code class="docutils literal notranslate"><span class="pre">//</span></code>, <code class="docutils literal notranslate"><span class="pre">%</span></code>, <code class="docutils literal notranslate"><span class="pre">divmod()</span></code>, <code class="docutils literal notranslate"><span class="pre">**</span></code>, <code class="docutils literal notranslate"><span class="pre">pow()</span></code></p></li>
<li><p>opérateurs logiques : <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">^,</span> </code>|<code class="docutils literal notranslate"><span class="pre">,</span> </code>~`</p></li>
<li><p>comparaisons : <code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code></p></li>
<li><p>fonctions : <code class="docutils literal notranslate"><span class="pre">sqrt()</span></code>, <code class="docutils literal notranslate"><span class="pre">exp()</span></code>, …</p></li>
</ul>
<div class="alert alert-block alert-danger">
<p><strong>ATTENTION :</strong> Le produit matriciel classique est <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#64;</span> <span class="pre">B</span></code> tandis que <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">*</span> <span class="pre">B</span></code> est le produit élément-par-élement.</p>
</div>
<div class="alert alert-block alert-danger">
<p><strong>ATTENTION :</strong> La mise en garde précédente s’appuie sur le fait que <strong>seul</strong> le type <strong>ndarray</strong> de numpy a été introduit dans ce cours.<br />
En particulier, le terme suivant est utilisé une et une seule fois, ici : matrix!</p>
</div></section>
<section id="definir-des-ndarray-a-partir-de-listes-python-list">
<h3><span class="section-number">3.2.8. </span>Définir des <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> à partir de listes python (<code class="docutils literal notranslate"><span class="pre">list</span></code>)<a class="headerlink" href="#definir-des-ndarray-a-partir-de-listes-python-list" title="Permalink to this headline">#</a></h3>
<p>L’exemple suivant utilise un autre constructeur, dénoté <code class="docutils literal notranslate"><span class="pre">np.array()</span></code> qui définit un tableau <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> à partir de la <em>liste</em> de ses valeurs (cf. paragraphe suivant).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">vi</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">vi</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="n">m23</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m23</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1 0 0]

[[1 1 1]
 [2 2 2]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">vi</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">vj</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">vk</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">vi</span><span class="p">,</span> <span class="n">vj</span><span class="p">,</span> <span class="n">vk</span><span class="p">)</span> 

<span class="n">zero</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">vi</span><span class="p">,</span> <span class="n">vj</span><span class="p">)</span>
<span class="n">autre_zero</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vdot</span><span class="p">(</span><span class="n">vi</span><span class="p">,</span> <span class="n">vj</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;comparaison scalaire:&quot;</span><span class="p">,</span> <span class="n">zero</span> <span class="o">==</span> <span class="n">autre_zero</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;égalité élement-élément:&quot;</span><span class="p">,</span> <span class="n">vi</span> <span class="o">==</span> <span class="n">vj</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;comparaison élement-élément:&quot;</span><span class="p">,</span> <span class="n">vi</span> <span class="o">&gt;</span> <span class="n">vj</span><span class="p">)</span>
<span class="n">un_autre_vecteur</span> <span class="o">=</span> <span class="n">vi</span> <span class="o">*</span> <span class="n">vj</span>
<span class="nb">print</span><span class="p">(</span><span class="n">un_autre_vecteur</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;comparaison élément-élement:&quot;</span><span class="p">,</span> <span class="n">zero</span> <span class="o">==</span> <span class="n">un_autre_vecteur</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="n">I3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">vi</span><span class="p">,</span> <span class="n">vj</span><span class="p">,</span> <span class="n">vk</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I3=&quot;</span><span class="p">);</span> <span class="nb">print</span><span class="p">(</span><span class="n">I3</span><span class="p">)</span>
<span class="n">I2</span> <span class="o">=</span> <span class="n">I3</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I2=&quot;</span><span class="p">);</span> <span class="nb">print</span><span class="p">(</span><span class="n">I2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="n">K</span> <span class="o">=</span> <span class="n">I3</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">:]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;tranche de tableau:&quot;</span><span class="p">,</span> <span class="n">K</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">vk</span> <span class="o">==</span> <span class="n">K</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1 0 0] [0 1 0] [0 0 1]
comparaison scalaire: True

égalité élement-élément: [False False  True]
comparaison élement-élément: [ True False False]
[0 0 0]
comparaison élément-élement: [ True  True  True]

I3=
[[1 0 0]
 [0 1 0]
 [0 0 1]]
I2=
[[1 0]
 [0 1]]

tranche de tableau: [0 0 1]
[ True  True  True]
</pre></div>
</div>
</div>
</div>
<div class="alert alert-block alert-warning">
<p>Les opérations composées (avec affectation) <code class="docutils literal notranslate"><span class="pre">+=</span></code> ou <code class="docutils literal notranslate"><span class="pre">*=</span></code> effectuent un traitement <em>en place</em>, c-a-d sans créer un nouvel objet.</p>
</div></section>
</section>
<section id="aspects-plus-avances-star">
<h2><span class="section-number">3.3. </span>Aspects plus avancés    (<span class="math notranslate nohighlight">\(\star\)</span>)<a class="headerlink" href="#aspects-plus-avances-star" title="Permalink to this headline">#</a></h2>
<section id="autres-constructeurs-et-autres-descripteurs">
<h3><span class="section-number">3.3.1. </span>Autres constructeurs et autres descripteurs<a class="headerlink" href="#autres-constructeurs-et-autres-descripteurs" title="Permalink to this headline">#</a></h3>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>identifiant</p></th>
<th class="head"><p>Fonction ou Méthode</p></th>
<th class="head"><p>Argument</p></th>
<th class="head"><p>Famille</p></th>
<th class="head"><p>Rôle</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">array()</span></code></p></td>
<td><p>F</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p><strong>constructeur</strong></p></td>
<td><p>créé un tableau à partir d’un argument <code class="docutils literal notranslate"><span class="pre">list</span></code> python</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">reshape()</span></code></p></td>
<td><p>F</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ndarray</span></code>et <code class="docutils literal notranslate"><span class="pre">tuple</span></code>d’<code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p><strong>constructeur</strong></p></td>
<td><p>redimensionne aux dimensions définies dans le tuple argument, un tableau existant (et compatible) passé comme argument</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">.strides</span></code></p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array</span></code></p></td>
<td><p>descripteur</p></td>
<td><p>retourne l’espace, mesuré en octets, entre 2 éléments consécutifs <em>dans une direction donnée</em> de chaque élément du tableau argument ; ces valeurs sont retournées sous la forme d’un tuple</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">.itemsize</span></code></p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array</span></code></p></td>
<td><p>descripteur</p></td>
<td><p>retourne la taille en octets de chaque élément du tableau argument</p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t12</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t12=&quot;</span><span class="p">,</span><span class="n">t12</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="n">t12</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Attention au (no-)reshape : t12.reshape(6,2)&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t12</span><span class="o">.</span><span class="n">shape</span><span class="p">);</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t12=&quot;</span><span class="p">,</span> <span class="n">t12</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="n">t12bis</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">t12</span><span class="p">,(</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t12bis = t12.reshape(6,2)&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t12bis</span><span class="o">.</span><span class="n">shape</span><span class="p">);</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t12bis=&quot;</span><span class="p">,</span> <span class="n">t12bis</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t12 et t12bis : même tableau en mémoire ?&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="n">t12</span><span class="p">)</span> <span class="o">==</span> <span class="nb">id</span><span class="p">(</span><span class="n">t12bis</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>t12= [[0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]]

Attention au (no-)reshape : t12.reshape(6,2)
(4, 3)
t12= [[0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]]

t12bis = t12.reshape(6,2)
(6, 2)
t12bis= [[0. 0.]
 [0. 0.]
 [0. 0.]
 [0. 0.]
 [0. 0.]
 [0. 0.]]

t12 et t12bis : même tableau en mémoire ? False
</pre></div>
</div>
</div>
</div>
<p><strong>Attention :</strong> La forme (shape) du tableau est fixée une fois pour toute à sa définition.<br />
<code class="docutils literal notranslate"><span class="pre">reshape()</span></code>, vu comme une fonction, ne modifie pas la forme d’un tableau existant mais permet de construire si besoin un <em>nouveau</em> tableau structuré différemment d’un tableau existant.<br />
Ce nouveau tableau est obtenu lors de l’affectation du résultat (de la fonction) constructeur <code class="docutils literal notranslate"><span class="pre">reshape()</span></code></p>
<p><strong>Difficile :</strong> En pratique, cette “remise en forme” d’un tableau pose des questions quant à son stockage <em>contigu</em> en mémoire. En effet, la mémoire est linéaire (1D) et ré-organiser un tableau n-D de façon contigue dans un espace 1D peut s’effectuer de façons diverses : ligne après ligne <em>vs.</em> colonne après colonne pour un tableau 2D par exemple, …</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;comparaison :&quot;</span><span class="p">,</span> <span class="n">t12</span> <span class="o">==</span> <span class="n">t12bis</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;shapes :&quot;</span><span class="p">,</span> <span class="n">t12</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">t12bis</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;id :&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="n">t12</span><span class="p">),</span> <span class="nb">id</span><span class="p">(</span><span class="n">t12bis</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>comparaison : False
shapes : (4, 3) (6, 2)
id : 140620493688976 140620493577936
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/32/9hkmzrf11t38ckpktjnyfsfc0000gn/T/ipykernel_25702/86209015.py:1: DeprecationWarning: elementwise comparison failed; this will raise an error in the future.
  print(&quot;comparaison :&quot;, t12 == t12bis)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">strides</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1 0]
&lt;class &#39;numpy.ndarray&#39;&gt;
int64
(8,)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Id</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Id</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="n">reA</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">Id</span><span class="p">,</span> <span class="n">A</span><span class="p">)</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">Id</span> <span class="o">*</span> <span class="n">A</span>
<span class="nb">print</span><span class="p">(</span><span class="n">reA</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[1 0]
 [0 1]]
[[5 6]
 [7 8]]

[[5 6]
 [7 8]]
[[5 0]
 [0 8]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> 

<span class="n">tc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span> <span class="p">[</span><span class="nb">complex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="nb">complex</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span> <span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">complex</span> <span class="p">)</span>
<span class="n">tc2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span> <span class="p">[</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]</span> <span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">complex</span> <span class="p">)</span>
<span class="n">tc3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span> <span class="p">[</span> <span class="mi">1</span><span class="o">+</span><span class="mf">2.</span><span class="n">j</span><span class="p">,</span> <span class="mi">3</span><span class="o">+</span><span class="mf">4.</span><span class="n">j</span> <span class="p">]</span> <span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">complex</span> <span class="p">)</span>

<span class="n">t_2d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span> <span class="p">[</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span> <span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">tc</span><span class="p">,</span> <span class="n">tc</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tc2</span><span class="p">,</span> <span class="n">tc2</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tc3</span><span class="p">,</span> <span class="n">tc3</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">t_2d</span><span class="p">,</span> <span class="n">t_2d</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1.+2.j 3.+4.j] complex128
[[1.+0.j 2.+0.j]
 [3.+0.j 4.+0.j]] complex128
[1.+2.j 3.+4.j] complex128
[[1 2]
 [3 4]] int64
</pre></div>
</div>
</div>
</div>
<div class="alert alert-block alert-warning">
<p><strong>Création <span class="math notranslate nohighlight">\(\neq\)</span> affectation.</strong></p>
<p>L’affectation entre <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> :<code class="docutils literal notranslate"><span class="pre">tab2</span> <span class="pre">=</span> <span class="pre">tab1</span></code> ne créé pas un nouvel <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> <code class="docutils literal notranslate"><span class="pre">tab2</span></code>.</p>
<p>On retrouvera ce comportement avec <strong>types mutables</strong> python : <code class="docutils literal notranslate"><span class="pre">list</span></code> et <code class="docutils literal notranslate"><span class="pre">dict</span></code>.</p>
<p>En revanche, les précédentes fonctions de création produisent l’effet attendu.</p>
</div></section>
<section id="autres-fonctions-et-methodes-utiles">
<h3><span class="section-number">3.3.2. </span>Autres fonctions et méthodes utiles<a class="headerlink" href="#autres-fonctions-et-methodes-utiles" title="Permalink to this headline">#</a></h3>
<p>En vrac des fonctions et des méthodes qui manipulent (en entrée et sortie) des <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> :</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">linspace(a,b,nb)</span></code> : fonction qui génère et retourne un tableau <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> de <code class="docutils literal notranslate"><span class="pre">nb</span></code> valeurs régulièrement espacées entre <code class="docutils literal notranslate"><span class="pre">a</span></code> et <code class="docutils literal notranslate"><span class="pre">b</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">empty(shape)</span></code> génère et retourne un tableau <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> <em>non initialisé</em> et de dimension <code class="docutils literal notranslate"><span class="pre">shape</span></code></p>
<ul>
<li><p><em>Rmq.</em> mentionné pour insister sur l’intérêt des constructeurs <code class="docutils literal notranslate"><span class="pre">zeros()</span></code> et <code class="docutils literal notranslate"><span class="pre">ones()</span></code>!!!</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">axis</span></code> : notion d’axe</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">axis=</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">...</span></code> désignent les première, deuxième, … dimensions du <code class="docutils literal notranslate"><span class="pre">ndarray</span></code></p></li>
<li><p>est utilisé comme paramètre nommé de certaines méthodes pour désigner <em>où s’applique</em> le traitement</p></li>
<li><p>exemple : <code class="docutils literal notranslate"><span class="pre">a23.sum(x)</span></code> retourne les sommes <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">a[0,0]+a[1,0],</span> <span class="pre">a[0,1]+a[1,1],</span> <span class="pre">a[0,2]+a[1,2]</span> <span class="pre">]</span></code></p></li>
<li><p>concerne aussi les méthodes :  <code class="docutils literal notranslate"><span class="pre">.min()</span></code>, <code class="docutils literal notranslate"><span class="pre">.argmin()</span></code>, …,  <code class="docutils literal notranslate"><span class="pre">.mean()</span></code>, <code class="docutils literal notranslate"><span class="pre">.var()</span></code>, <code class="docutils literal notranslate"><span class="pre">.std()</span></code></p></li>
</ul>
</li>
</ul>
<p>Plus de détails <a class="reference external" href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html">l’initiation</a> et la documentation de <a class="reference external" href="https://docs.scipy.org/doc/numpy-dev/reference/index.html">numpy</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a23</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;float32&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a23</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> on vous aura prévenu !&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a23</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="n">i33</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;int16&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">i33</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> on vous aura bien prévenu !&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">i33</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span> 

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">i33</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])):</span>
    <span class="n">i33</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">i</span>
<span class="nb">print</span><span class="p">(</span><span class="n">i33</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">i33</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">i33</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[ 0.0000000e+00 -8.5899346e+09  4.4057372e+07]
 [ 1.5849497e+29  1.1210388e-44  0.0000000e+00]] 
 on vous aura prévenu !
float32

[[257 257 257]
 [257 257 257]
 [257 257 257]] 
 on vous aura bien prévenu !
int16

[[0 0 0]
 [2 2 2]
 [4 4 4]]
[2. 2. 2.]
[0. 2. 4.]
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="synthese">
<h2><span class="section-number">3.4. </span>Synthèse<a class="headerlink" href="#synthese" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ndarray</span></code> de <code class="docutils literal notranslate"><span class="pre">numpy</span></code> : des vrais tableaux nD</p>
<ul>
<li><p>L’espace de stockage en mémoire d’un <em>vrai</em> tableau est <em>fixé une fois pour toute</em> à la création du tableau.</p></li>
<li><p>Ainsi, la taille d’un tableau ne peut pas changer après sa création. Il faut donc connaitre le nombre maximal de valeurs qu’il doit contenir dès cette création.</p></li>
</ul>
</li>
<li><p>Quand les choisir ?</p>
<ul>
<li><p>les <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> pour du calcul numérique type algèbre linéaire</p></li>
<li><p>les <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> pour des tableaux multi-dim plein de valeurs numériques</p></li>
<li><p>Dans ces deux cas, les préférer aux <code class="docutils literal notranslate"><span class="pre">lst</span></code> python</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">numpy</span></code> propose de multiples autres fonctions pour manipuler efficacement des tableaux.</p></li>
<li><p>Se référer à <a class="reference external" href="https://docs.scipy.org/doc/numpy-1.15.0/user/quickstart.html">quickstart numpy</a>  (en anglais).</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./cm"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="a1-booleens.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">2. </span>Annexe : les booléens en python (&gt;3.6)</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="a3-exceptions.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">4. </span>Exceptions</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Ph. Langlois<br/>
  
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>